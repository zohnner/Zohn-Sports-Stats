<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>NFL Statistics</title>
    <link rel="stylesheet" href="styles/main.css">
    <style>
        .tabs { display: flex; margin-bottom: 20px; }
        .tab-btn {
            flex: 1;
            padding: 10px;
            background: #35424a;
            color: #fff;
            border: none;
            cursor: pointer;
            font-weight: bold;
            transition: background 0.2s;
        }
        .tab-btn.active { background: #d50a0a; }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        .home-btn {
            position: absolute;
            top: 20px;
            left: 20px;
            background: #35424a;
            color: #fff;
            border: none;
            padding: 10px 18px;
            border-radius: 5px;
            font-weight: bold;
            text-decoration: none;
            transition: background 0.2s;
            z-index: 100;
        }
        .home-btn:hover {
            background: #d50a0a;
        }
    </style>
</head>
<body class="nfl-page">
    <a href="index.html" class="home-btn">Home</a>
    <header class="nfl-header">
        <h1>NFL Statistics</h1>
    </header>
    <div class="container">
        <div class="tabs">
            <button class="tab-btn active" data-tab="scores">Recent Scores</button>
            <button class="tab-btn" data-tab="standings">Team Standings</button>
            <button class="tab-btn" data-tab="leaders">Stat Leaders</button>
        </div>
        <section id="scores" class="tab-content active">
            <h2>Recent Scores</h2>
            <div id="scores-container">
                <!-- NFL scores will appear here -->
                <p>Loading recent scores...</p>
            </div>
        </section>
        <section id="standings" class="tab-content">
            <h2>Team Standings</h2>
            <div id="standings-container">
                <!-- NFL standings will appear here -->
                <p>Loading team standings...</p>
            </div>
        </section>
        <section id="leaders" class="tab-content">
            <h2>Stat Leaders</h2>
            <div id="leaders-container">
                <!-- NFL stat leaders will appear here -->
                <p>Loading stat leaders...</p>
            </div>
        </section>
    </div>
    <script>
        // Tab switching logic
        document.querySelectorAll('.tab-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(tc => tc.classList.remove('active'));
                btn.classList.add('active');
                document.getElementById(btn.dataset.tab).classList.add('active');
            });
        });

        // API endpoints
        const scoresContainer = document.getElementById('scores-container');
        const standingsContainer = document.getElementById('standings-container');
        const leadersContainer = document.getElementById('leaders-container');

        // Fetch recent NFL scores
        async function fetchRecentScores() {
            scoresContainer.innerHTML = '<p>Loading recent scores...</p>';
            try {
                // Example: Get last 15 NFL events
                const res = await fetch('https://www.thesportsdb.com/api/v1/json/1/eventspastleague.php?id=4391');
                const data = await res.json();
                if (data.events) {
                    scoresContainer.innerHTML = '<ul>' + data.events.slice(0, 5).map(event => `
                        <li>
                            ${event.strEvent} <br>
                            <strong>${event.intHomeScore}</strong> - <strong>${event.intAwayScore}</strong> <br>
                            <small>${event.dateEvent}</small>
                        </li>
                    `).join('') + '</ul>';
                } else {
                    scoresContainer.innerHTML = '<p>No recent scores found.</p>';
                }
            } catch (err) {
                scoresContainer.innerHTML = '<p>Error loading scores.</p>';
            }
        }

        // Fetch NFL team standings (TheSportsDB does not provide live standings, so we show teams)
        async function fetchTeamStandings() {
            standingsContainer.innerHTML = '<p>Loading team standings...</p>';
            try {
                const res = await fetch('https://www.thesportsdb.com/api/v1/json/1/search_all_teams.php?l=NFL');
                const data = await res.json();
                if (data.teams) {
                    standingsContainer.innerHTML = '<ul>' + data.teams.map(team => `
                        <li>
                            <strong>${team.strTeam}</strong> (${team.strDivision})<br>
                            Stadium: ${team.strStadium}
                        </li>
                    `).join('') + '</ul>';
                } else {
                    standingsContainer.innerHTML = '<p>No team data found.</p>';
                }
            } catch (err) {
                standingsContainer.innerHTML = '<p>Error loading standings.</p>';
            }
        }

        // Stat leaders (not available in TheSportsDB free API; placeholder)
        function fetchStatLeaders() {
            leadersContainer.innerHTML = `
                <p>Stat leaders data is not available in the free API.</p>
                <ul>
                    <li><strong>Passing Yards:</strong> Coming soon</li>
                    <li><strong>Rushing Yards:</strong> Coming soon</li>
                    <li><strong>Receiving Yards:</strong> Coming soon</li>
                </ul>
            `;
        }

        // Load default tab content
        fetchRecentScores();

        // Load content when tabs are clicked
        document.querySelector('[data-tab="scores"]').addEventListener('click', fetchRecentScores);
        document.querySelector('[data-tab="standings"]').addEventListener('click', fetchTeamStandings);
        document.querySelector('[data-tab="leaders"]').addEventListener('click', fetchStatLeaders);
    </script>

</body>
</html>